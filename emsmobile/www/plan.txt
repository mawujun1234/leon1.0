*Dreamweaver 代码提示 CTRL+h
*先把项目整个在ems中运行，测试，等做的差不多后，再迁移到cordover的项目上
*访问的时候都使用$.ContextPath="http://192.168.94.20:8084";定义的地址进行访问就可以保存cookie了
*页面跳转全部在移动端负责，服务端只返回json的的数据，例如没有登录，访问拒绝等等
	reasons.code:'noPermission'：表示没有权限访问
	reasons.code:'noLogin':表示没有登录
* 在测试的时候，所有的请求全部使用jsonp协议的形式进行请求，因为存在跨域的问题，除非把html代码放到leon同个项目中。
* 在手机上进行访问的时候，可以使用普通的ajax进行访问，就像同个域里面一样
*要添加的插件
	cordova plugin add E:\eclipse\mobile\plugins\barcodeScanner
		cordova plugin rm com.phonegap.plugins.barcodescanner
	cordova plugin add org.apache.cordova.dialogs
		cordova plugin rm org.apache.cordova.dialogs
	cordova plugin add org.apache.cordova.device
		cordova plugin rm org.apache.cordova.device
	cordova plugin add E:\eclipse\workspace\cordova_plugins\platforms\android\geolocation
	---cordova plugin add org.apache.cordova.geolocation
		----cordova plugin rm org.apache.cordova.geolocation


疑问：
	1：维修费用和维修配件的管理现在是否已经存在了
	2:故障原因，维护在维修中心配置吗？
	
条码打印页面的设计：小类，条码，二维码
维修任务的监控报表的数据好像不准，看看是不是时间出问题了
导出的excel的单元格表头还没有写，领用数用负数显示，
结余数，领用数，本期等使用公式进行计算
在建仓库的月报表的导出功能
在建仓库的月报表的定时功能还没有做

excel的数据行的分组，以及窗口 冻结，行的单元格合并，弄成指定的样式

(二期)移动端增加已巡检任务杆位，报表中显示未完成任务杆位和直接发送任务的功能
定时执行迁移到xml中，这样比较容易找到，已经有一个任务的定时执行



仓库资产情况未测试
取消杆位的任务和流程
维修的时候直接提交，错误类型等可能保存不了




仓管给出的报表

省市的json
	http://lixuanbin.iteye.com/blog/1997929
	改成自动获取
维修的时候，故障类型等不会自动选，不是很稳定

移动版的外部网络环境测试
各种版本的android在虚拟机上进行测试
写用例，画流程图，在国庆的时候
自动更新功能
任务退回的时候，填写退回理由，并且发送消息给移动端

建一个设备流转的清单表，设备每次流转的记录都写在里面(可选)
地理位置上报，接收，记录,当最小化的时候，是否也可以发送地理位置，而且一个账号会有多个纪录，因为会有多个人在用
	一个应用只发生一次，并且只有登录后才会发送
	还检测断gps有没有打开，如果没有打开的话就使用无线网络来获取信息
	还要测试最下化后，能不能发送地理信息
	看看baidu地图有么有获取经纬度的api
	http://itindex.net/detail/49672-phonegap-%E5%88%A9%E7%94%A8-%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE
	http://www.oschina.net/code/snippet_615682_12337
	http://blog.csdn.net/harvic880925/article/details/17633311
	http://developer.baidu.com/map/geosdk-android-developv4.0.htm




一个账号是否只能是一个仓库的主管，只能对一个仓库进行出入库管理？
页面切换的中间空白
底部导航共用：其实和leftMenu.html应该是一样的处理方法。还要注意是哪个被激活了
	http://www.sxt.cn/u/756/blog/3327

把整个ems项目迁出来，专门建立一个项目，不要放在leon下面



底部菜单的提醒，例如一共有多少个新任务，气泡提醒，在登陆的时候就获取到，并且传递到其他三个页面中
能
添加未巡检任务的快速查找功能，并且发送，如果有正在维修的就不发送了

任务搜索，跳到专门的页面去搜索，搜索结果页只显示在那个页面，这样各个列表中的数据就可以缓存了，不用再去后台查了
	只通过手动或自动进行刷
	



使用ajax和window.history.pushState无刷新改变页面内容和地址栏URL
	http://blog.csdn.net/chen052210123/article/details/7481578

记住用户名的功能，cookie或者是localestorge
记住密码的功能，应该是通过app来实现的而不是cookie，所以暂时先去掉
	http://jinnianshilongnian.iteye.com/blog/2031823

气泡提示看看能不能更圆
系统启动时的页面，flash...的那个页面
任务列表下拉才去读取数据的功能
整个项目的色调改一下，改成淡蓝色的那种形式,这块可能要全部重新定制下
	图标的灰色背景和这个应该也有关系
任务列表中添加搜索框，点搜索框会跳到另一个界面去（消息提醒那块肯定要用这个）
	任务列表界面（特别是历史任务）的搜索框是一个装饰(如果任务数据很多的话)，一点击就跳转到专门的搜索页面，里面进行搜索，
	搜索结果用listview进行显示，并进行查看。
	如果任务列表数据少的话，就直接使用界面上进行过滤，也就是不用下来就一次性获取所有的数据了

程序的更新提醒，当后台的程序有更新后，要提示前台进行修改
扫描设备后先缓存在前台先，也就是说要同步字典
jquery的页面模板，等需要的时候才去加载，例如login.html只有最重要的一段内容，没有表
设备类型等添加一个不显示 已删除数据的功能
======================================================================================================
维修单管理，状态选择后，自动进行查询。
	或者点选复选框后，灰色变成可用
安装任务监控报表
	杆位数 本期新建任务 以前新建任务 总任务数 未结束 已结束 完成率 平均完成时间 已提交未完成 提交完成率 平均提交完成时间 
insert into sys_navigation (ID, LEAF, LINK, MEMO, PARENTID, REPORTCODE, TEXT)
values ('d3a9d8f7-399d-4f40-b9e8-1c258422c84f', 'Y', '/report/NewInstallTaskMonitorApp.jsp', null, '7291c55a-15ed-4205-959f-2065b0ee54c7', 'aai-aac', '安装任务监控报表');
维修任务监控报表
	当月新建任务 上月新建任务 未完成任务 已完成任务 完成率 已提交任务 已提交完成率
	insert into sys_navigation (ID, LEAF, LINK, MEMO, PARENTID, REPORTCODE, TEXT)
values ('3516a585-b9d3-4b31-bd27-d6c244e26848', 'Y', '/report/RepairTaskMonitorApp.jsp', null, '7291c55a-15ed-4205-959f-2065b0ee54c7', 'aai-aad', '维修任务监控报表');
巡检任务监控报表
	杆位数 已巡检杆位数 完成率 已提交任务，已提交完成率
insert into sys_navigation (ID, LEAF, LINK, MEMO, PARENTID, REPORTCODE, TEXT)
values ('135f608e-3161-4680-8e73-f2f6b4a69359', 'Y', '/report/PatrolTaskMonitorApp.jsp', null, '7291c55a-15ed-4205-959f-2065b0ee54c7', 'aai-aae', '巡检任务监控报表');
在建工程仓库盘点月报表
insert into sys_navigation (ID, LEAF, LINK, MEMO, PARENTID, REPORTCODE, TEXT)
values ('298b0161-205b-4871-abb3-68c3a6e65983', 'Y', '/report/BuildDayReportApp.jsp', null, '7291c55a-15ed-4205-959f-2065b0ee54c7', 'aai-aaf', '在建工程仓库盘点月报表');
(完成)设备状态表
insert into sys_navigation (ID, LEAF, LINK, MEMO, PARENTID, REPORTCODE, TEXT)
values ('d90c8adb-35da-45b1-886d-c765e3848384', 'Y', '/report/EquipmentStatusApp.jsp', null, '7291c55a-15ed-4205-959f-2065b0ee54c7', 'aai-aab', '设备状态表');
创建form的表单，然后从后台获取数据
(完成)移动端添加，是否是损坏设备的判断，可以手动修改
(完成)领用返库查询
	insert into sys_navigation (ID, LEAF, LINK, MEMO, PARENTID, REPORTCODE, TEXT)
values ('5458a38a-734d-4952-b24a-b4f32ce09ff7', 'Y', '/install/InOutQueryApp.jsp', null, '763ce28f-13d0-491d-b7c9-ef859fbcc7c1', 'aaf-aac', '领用返库记录查询');
(完成)仓库资产情况
insert into sys_navigation (ID, LEAF, LINK, MEMO, PARENTID, REPORTCODE, TEXT)
values ('7291c55a-15ed-4205-959f-2065b0ee54c7', 'N', null, null, null, 'aai', '报表');
insert into sys_navigation (ID, LEAF, LINK, MEMO, PARENTID, REPORTCODE, TEXT)
values ('c0485251-d40b-49fd-954b-cb9591c53775', 'Y', '/report/PropertyStatusApp.jsp', null, '7291c55a-15ed-4205-959f-2065b0ee54c7', 'aai-aaa', '仓库资产情况');
(完成)新建仓库的时候，直接让你选 是备品备件仓库 还是在建仓库，然后可修改就可以了
	需要区分仓库的地方都要看看
(完成)入库记录查询
	insert into sys_navigation (ID, LEAF, LINK, MEMO, PARENTID, REPORTCODE, TEXT)
	values ('019ba77f-8348-46e9-911a-d2786e0b8f36', 'Y', '/store/InStoreQueryApp.jsp', null, 'd7624421-6323-4bc7-a28f-6f011f771a57', 'aac-aai', '入库记录查询');
档中	
(完成)移动端的设备查询，状态信息没有获取出来
(完成)界面重新排版，界面上增加任务编号
(完成)添加登陆界面，也可以直接退出
(完成)移动端添加任务刷新按钮
(完成)测试定位功能,还有当黑屏的时候怎么办
	(完成)定时发送定位信息，条件：登陆后
	(完成)还要获取手机的唯一id，保证唯一性
	(完成)注意问题：几个页面不同时发送请求
	(完成)机器休息的时候唤醒，
	(完成)在后台运行
	(完成)如果地址相同，就不发送任务了，先测试完黑屏后等问题，然后再测试这个，把注释去掉就可以了
	发送的时间间隔，如果再指定时间内容，经纬度变化比较大，就减少时间间隔，否则就加大时间间隔
(完成)人物下发到任务查询的地方的autoLoad冲突解决，传递一个参数，来判断是不是自动加载就可以了，如果是跳转就不自动加载，否则就自动加载
(完成)大小类管理中，已经删除的就不显示出来，增加一个复选框勾选是否显示
(完成)添加了移动端记住用户名的功能
(完成)添加移动端退出按钮
(完成)在电脑端的任务查询管理中，双击查看任务的设备列表信息
(完成)在查库存的时候，把小类从查询条件中删除
(完成)查看仓库库存的时候，在level2的时候，选择其他的条件查询，会报错，并且添加所有的查询条件，不用手工区删除了
(完成)动端在搜索的时候，如果发现没有数据，也给出提示，没有记录，或者改成使用搜索键进行搜索
(完成)正式库中，搜索杆位搜索不出来
(完成)搜索按钮变成搜索框，点击去搜索
(完成)任务添加创建者类型
	正式库上的数据还没有修改  update ems_task set creatertype='manager'
(完成)维修维护的时候，的维修单位为id，改成名称
(完成)维修的扫描入库，默认这个选择框是灰的，只有点击选择维修状态为“返库途中”才可以通过扫描进行选择
(完成)维修中心出库，入库也做这样的处理
(完成)在维修中心扫描出库的时候，也要做同上的处理
(完成)创建维修单的时候，把任务的故障描述带过来，并且提交的时候判断维修人是否有填，并且获取的人是对当前维修单的维修中心具有查看权限的人，
	并且把故障描述，原因和备注都换成textarea
	
(完成)任务提交状态再删除的话，不是直接删除，因为可能会被引用了，手持端提交了，并且把设备已经入库了
	通过判断设备的状态是否是使用中，损坏状态，出库待安装的状态
(完成)移动端在任务列表中删除设备的时候要进行判断，如果设备已经不是手持状态的或者使用中状态的话是不能删除的
	因为任务可能回退，而设备已经入库了，如果可以删除的话，那设备和任务就不能对应了
	
(完成)设备返库的时候，设备如果不是手持或损坏状态的话，就不能进行返库，说明该设备的状态不对，可能任务没有返库，或者已经是入库的设备了
(完成)客户端新建任务的功能，移动端自己新建任务,手动新建各种任务
	新建安装任务
	新建维修维护任务
	新建巡检任务
	三种任务建立的测试
(完成)点新建的按钮的时候，不要把header灰掉，并且一点，就把二级菜单缩回去。
(完成)每次返回taskes_new.html都会重新create takes_search_pole.html，看看能不能用缓存解决这个问题
(完成)移动端添加设备查询功能呢，查询设备的所属杆位等信息
(完成)添加当前持有设备查询的功能
(完成)修改改为名称后，片区里需要重新添加杆位
(完成)维修任务的时候，拆下来的设备判断是不是这个任务的杆位上的
	(完成)巡检任务也是一样
	(完成)还没有经过详细的测试
(完成)新安装的时候，长按不能弹出删除提示
(完成)删除了后，保存的时候，还是能获取到原来的设备
	
	
(完成)移动应用名称和图标的替换
(完成)任务下发中的 批量任务发送还没有完成
(完成)设备损坏原因和原因模板的功能还不是很稳定，浏览器关掉第二次打开就不能渲染了
(完成)当提交任务的时候，参数的start也要发生变化，要减一，但是确认中的任务要添加一，直接移过去就可以了
	如果已经存在就移过去，如果还没有初始化，就不用
(完成)分页参数要分成多个状态的，要独立出来
(完成)服务器地址弄成可以自己配置的，并且缓存在客户端，默认地址是
(完成)任务下发中不显示任务信息。最多弄成弹出框，或者表示下有任务就可以了
(完成)发送任务要进行重新测试
(完成)传递过去的时候，状态也要传递过去
(完成)如果窗口已经存在，点击不会进行过滤
(完成)故障类型，原因模板基础等数据的维护
	(完成)弄成缓存的判断，一般使用缓存登录的时候发现数据有变更，那就更新缓存中的内容
	(完成)移动端的故障类型和原因模板的读取
	(完成)(完成)改成不能删除，就是隐藏删除按钮
	(完成)提交的时候，参数的获取和保存的时候统一一下
	(完成提交的时候，要验证下，一些数据必须填
	(完成移动端点保存的时候报错，好像是参数没有传递
(完成)任务查看功能的权限还没有进行控制,已经完成和确认的任务就不能进行编辑了

(完成)任务自动刷新功能和下拉刷新的功能
	任务列表下拉才去读取数据的
	刷新功能可以参考知乎日报的刷新，只在头部出现一个刷


(暂停)扫描连续扫描的问题(没有测试成功)
(完成)退出的功能
	三个主页上按返回按钮，退出应用程序
(完成)扫描的设备列表长按可以删除

(完成)杆位上添加“拥有设备列表”的查看功能。
(完成)任务查询管理的时候，添加一个浮选框，超期，如果勾上了的话，就表示只查超期任务，并且补全文档
(完成)消息发送流程
	超时设置
	自动提醒功能，spring定时器
(完成)移动端消息的获取和查看
(完成)巡检和维修先完成发送任务，然后再一个一个走流程
(完成)巡检任务流程
	(完成)发送巡检任务
	(完成)走巡检任务流程
(完成)维修任务
	(完成)发送维修任务
	(完成)维修任务流程
(完成)任务退回功能(写到文档中)
	--因为某些情况下，需要把任务退回，让手持端重新
(完成)创建任务的id，可能还有问题task.setId(ymdHmsDateFormat.format(createDate)+"-001");
	现在是写死的
(完成)任务批量发送也有问题,发送批量任务的功能在界面上还没
(完成)任务分发的功能
(完成)设备安装，要先设备入库，然后设备领用，最后才是安装
	条码扫描，设备信息获取
	任务信息初始化
	使用前5进行安装，首先测试信息返回后的渲染问题，
	再做保存等功能。
(完成)安装时，已选择的设备，长按，弹出删除框，参考QQ
(完成)在手机中，删除还有问题。
(完成)当移动端对同个设备扫描多次后，在移动端会看到多个同个ecode的设备，但是点保存后，只会保存一个，下次再进来的时候，同个设备也只有一个
(完成)1:修改密码的后台功能完成
(完成)2：显示账号，所属工作组，登录时间等，这个要在手机端测试过
(完成)3：任务管理模块设计，杆位添加状态：新建，安装中，已安装，取消


(完成)jquery的统一异常处理

(完成)试后台重启后，是否会要求重新登录
(完成，自己好了)尾部工具栏的动画效果出来了，但是有时候效果会出问题，点中的导航按钮没有被选中
(完成)changePage具有showLoadMsg的参数，看看能不能放进去
(完成)$.mobile.showPageLoadingMsg("e", "Loading...", true);http://www.apkbus.com/blog-13638-53485.html
头等内容
	

(完成)登陆页面
	json解析问题，使用反斜杠来使用双引号。2最外面的是单引号，里面的是双引号，看fastjson的配置
(完成)手机端登陆，使用jquery进行登录，登录后跳转 http://www.oschina.net/question/101738_2927
	表单验证http://jackyrong.iteye.com/blog/1310312  http://jqueryvalidation.org/
(完成)密码修改,用户名和会话的保持怎么做

(完成)fastjson返回具有双引号的json，默认是双引
(完成)滑出菜单  Slider Panel，
http://www.dotblogs.com.tw/jqmdesigner/archive/2014/06/09/145454.aspx
http://sc.chinaz.com/jiaoben/130423512680.htm#down
(完成)jquery和cordover的会话如何保持。是不是部署到apk中，就是访问的是服务端
	CookieManager.getInstance().setAcceptCookie(true); http://www.quora.com/PhoneGap/What-are-the-ways-to-maintain-sessions-in-a-PhoneGap-Android-app
	https://developer.salesforce.com/docs/atlas.en-us.188.0.salesforce_platform_mobile_services.meta/salesforce_platform_mobile_services/hybrid_managing_sessions.htm
(完成)新建任务的二级菜单的图标弄成和列表的图标一样，直接使用图片，而不是图标
(完成)新任务的"新"字红色表示。
(完成)和滑出新建任务功能
 先完成滑动滑出的功能，然后使用网格布局，弄成和QQ一样，是横向布局布满整个屏幕
 同时遮罩


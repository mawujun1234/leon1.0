<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<!-- mawujun qq:16064988 e-mail:16064988@qq.com-->
<mapper namespace="com.mawujun.baseinfo.EquipmentProdRepository">

	<select id="queryB" resultType="com.mawujun.baseinfo.EquipmentProd" parameterType="map">
    	SELECT a.*,b.name as brand_name
	    FROM ems_equipmentprod a,ems_brand b 
		where a.brand_id=b.id
		<if test="status!=null">
		and a.status=#{status}
		</if>
		<if test="parent_id!=null">
		and a.parent_id=#{parent_id}
		</if>
		order by a.id
    </select>
    
    <select id="queryBrandCombo" resultType="com.mawujun.baseinfo.Brand" parameterType="string">
    	SELECT b.*
	    FROM ems_equipmentprod a,ems_brand b 
		where a.brand_id=b.id
		and b.status='Y'
		and a.id=#{prod_id}
    </select>
  
</mapper>

